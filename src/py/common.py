# Use this file to store common constants and classes to be used throughout this repo.

from enum import Enum, IntEnum
import numpy as np

# Constants as specified in the paper
N_HOURS = 48
N_COLS = N_HOURS
N_ROWS = 150

# Normalization output range. Selected as [0,255] for openCV compatibility
NORM_OUT_MIN = 0
NORM_OUT_MAX = 255

# Use to select Normalization Method for a given run
class Norm_method(Enum):
    MINMAX = 1
    CUSTOM = 2

# Used for indexing columns by name in stats
class Stats_col(IntEnum):
    MIN = 0
    MAX = 1
    SOFTMIN = 2
    SOFTMAX = 3
    NORMLOW = 4
    NORMHI = 5
    MEAN = 6
    STDDEV = 7
    MEDIAN = 8
    N_COLS = 9


# Mapping from itemid to unique feature id.
# itemids come from MIMIC-III. Feature ids are used to amalgamate
# itemids with same practical meaning. Feature id is used directly as row index in output image.
item2feature = {
    50862: 25,
    50863: 28,
    50868: 17,
    50878: 27,
    50882: 16,
    51006: 20,
    -1: 21,
    50893: 19,
    50902: 36,
    50809: 18,
    51222: 30,
    51237: 37,
    51484: 35,
    50813: 32,
    50956: 38,
    51250: 39,
    50818: 40,
    50821: 41,
    51275: 42,
    50820: 34,
    50970: 23,
    51265: 31,
    50971: 15,
    51277: 43,
    50983: 14,
    50885: 26,
    50976: 24,
    51002: 33,
    51003: 33,
    51301: 29,
}

# Autogenerated by parse_clinical_variables.py
stats = np.array([
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [35.0,189.0,35.0,189.0,138.5551,138.5551,138.5551,4.9481,139.0,],
    [0.8,27.5,0.8,27.5,4.1544,4.1544,4.1544,0.6562,4.1,],
    [2.0,90.0,2.0,90.0,25.4115,25.4115,25.4115,4.8942,25.0,],
    [-21.0,118.0,-21.0,118.0,13.882,13.882,13.882,3.7675,13.0,],
    [-251.0,3070.0,-251.0,3070.0,139.2986,139.2986,139.2986,58.1087,129.0,],
    [0.0,47.7,0.0,47.7,8.5089,8.5089,8.5089,0.842,8.5,],
    [0.0,290.0,0.0,290.0,29.2564,29.2564,29.2564,22.9176,22.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,58.0,0.0,58.0,3.5985,3.5985,3.5985,1.32052,3.4,],
    [0.2,56.0,0.2,56.0,6.5656,6.5656,6.5656,1.2108,6.7,],
    [0.9,6.9,0.9,6.9,3.178,3.178,3.178,0.757,3.15,],
    [0.0,82.8,0.0,82.8,3.3405,3.3405,3.3405,6.1149,0.9,],
    [0.0,36400.0,0.0,36400.0,151.149,151.149,151.149,732.108,36.0,],
    [0.0,4695.0,0.0,4695.0,168.286,168.286,168.286,197.4186,107.0,],
    [0.0,846.7,0.0,846.7,10.5041,10.5041,10.5041,9.006,9.1,],
    [0.0,25.5,0.0,25.5,10.56,10.56,10.56,1.95733,10.3,],
    [4.0,4504.0,4.0,4504.0,239.31904,239.31904,239.31904,150.3102,215.0,],
    [0.0,36.0,0.0,36.0,2.6028,2.6028,2.6028,2.5472,1.8,],
    [0.0,575.0,0.0,575.0,1.1443,1.1443,1.1443,4.3426,0.13,],
    [0.0,7.99,0.0,7.99,7.3793,7.3793,7.3793,0.08711,7.39,],
    [4.0,150.0,4.0,150.0,45.3794,45.3794,45.3794,47.816,15.0,],
    [22.0,155.0,22.0,155.0,103.4792,103.4792,103.4792,6.11369,103.0,],
    [0.0,112.3,0.0,112.3,1.6621,1.6621,1.6621,1.3351,1.3,],
    [0.0,1210000.0,0.0,1210000.0,143.02789,143.02789,143.02789,4843.0091,37.0,],
    [0.0,147.0,0.0,147.0,90.2649,90.2649,90.2649,6.9878,90.0,],
    [0.0,247.0,0.0,247.0,42.7367,42.7367,42.7367,11.3889,41.0,],
    [0.0,1914.0,0.0,1914.0,136.7356,136.7356,136.7356,92.1099,109.0,],
    [0.0,193.3,0.0,193.3,44.1984,44.1984,44.1984,25.7033,34.1,],
    [0.0,36.4,0.0,36.4,15.7992,15.7992,15.7992,2.3561,15.3,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
    [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,],
])